<!DOCTYPE html>
<html lang="{{ request.locale.iso_code }}"{% if settings.default_color_mode != 'base' %} class="u-theme-{{ settings.default_color_mode }}"{% endif %}>
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta name="theme-color" content="{{ settings.swatch_efficient_black }}"/>

  <title>{{ page_title }}{% if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif %}{% if current_page != 1 %} &ndash; Page {{ current_page }}{% endif %}{% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}</title>

  {%- if page_description -%}
    <meta name="description" content="{{ page_description | escape }}"/>
  {%- endif -%}

  <link rel="canonical" href="{{ canonical_url }}"/>

  {%- if settings.favicon != blank -%}
    <link rel="shortcut icon" href="{{ settings.favicon | image_url: width: 32 }}" type="image/png"/>
  {%- endif -%}

  {%- comment -%} Shopify required header content {%- endcomment -%}
  {{ content_for_header }}

  {%- comment -%} Font preloads {%- endcomment -%}
  <link rel="preload" href="{{ 'font-borna-400.woff2' | asset_url }}" as="font" type="font/woff2" crossorigin/>
  <link rel="preload" href="{{ 'font-borna-500.woff2' | asset_url }}" as="font" type="font/woff2" crossorigin/>

  {%- comment -%} @font-face declarations (needs Liquid for asset_url) {%- endcomment -%}
  {%- render 'font-face' -%}

  {%- comment -%} Swatch CSS variables from theme settings {%- endcomment -%}
  {%- render 'color-mode-variables' -%}

  {%- comment -%} Global CSS {%- endcomment -%}
  {{ 'base.css' | asset_url | stylesheet_tag }}
  {{ 'color-mode.css' | asset_url | stylesheet_tag }}

  {%- comment -%} Anti-flicker: apply saved theme class before paint {%- endcomment -%}
  <script>
    (function(){
      var s = localStorage.getItem('colorMode');
      if (s && s !== 'base') {
        document.documentElement.className = 'u-theme-' + s;
      }
    })();
  </script>

  {%- comment -%} Lottie Player for animated logo {%- endcomment -%}
  <script src="https://unpkg.com/@lottiefiles/lottie-player@2.0.8/dist/lottie-player.js" defer></script>

  {%- comment -%} GSAP + ScrollTrigger + SplitType for text animations {%- endcomment -%}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/split-type"></script>

  {%- comment -%} Lenis smooth scroll {%- endcomment -%}
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.23/bundled/lenis.min.js"></script>
</head>
<body{% if settings.default_color_mode != 'base' %} class="u-theme-{{ settings.default_color_mode }}"{% endif %}>

  {%- comment -%} Global header {%- endcomment -%}
  {%- section 'header' -%}

  {%- comment -%} Main page content {%- endcomment -%}
  <main>
    {{ content_for_layout }}
  </main>

  {%- comment -%} Global footer {%- endcomment -%}
  {%- section 'footer' -%}

  {%- comment -%} Global JS {%- endcomment -%}
  <script src="{{ 'color-mode.js' | asset_url }}" defer></script>
  <script src="{{ 'scroll-animations.js' | asset_url }}" defer></script>
  <script src="{{ 'section-animations.js' | asset_url }}" defer></script>
  <script src="{{ 'smooth-scroll.js' | asset_url }}" defer></script>

</body>
</html>
